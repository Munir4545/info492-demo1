(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,68294,e=>{"use strict";e.s(["default",()=>d]);var t=e.i(23695),n=e.i(71586),s=e.i(35493),a=e.i(41522),i=e.i(7811),l=e.i(26053),r=e.i(33451),o=e.i(61242);function d(e){let{drivers:d,compromisedDrivers:c=[]}=e,p=[{id:"attack-1",name:"Phishing Server",lat:47.6062,lng:-122.3321,type:"phishing"},{id:"attack-2",name:"GPS Spoofer",lat:47.5,lng:-119.5,type:"gps"},{id:"attack-3",name:"API Flooder",lat:46.7,lng:-121,type:"api"}];return(0,t.jsxs)("div",{className:"relative w-full h-[600px] rounded-lg overflow-hidden shadow-lg border border-red-300 dark:border-red-800",children:[(0,t.jsxs)(n.MapContainer,{center:[47.2,-120],zoom:7,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[(0,t.jsx)(s.TileLayer,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),p.map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)(a.Marker,{position:[e.lat,e.lng],icon:(e=>{let t={phishing:"#dc2626",gps:"#ea580c",api:"#ca8a04"};return o.default.divIcon({className:"attack-origin-marker",html:'\n        <div style="\n          background-color: '.concat(t[e],";\n          width: 28px;\n          height: 28px;\n          border-radius: 50%;\n          border: 3px solid white;\n          box-shadow: 0 0 20px ").concat(t[e],';\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          animation: glow 2s ease-in-out infinite;\n        ">\n          <div style="color: white; font-size: 14px; font-weight: bold;">⚡</div>\n        </div>\n        <style>\n          @keyframes glow {\n            0%, 100% { box-shadow: 0 0 20px ').concat(t[e],"; }\n            50% { box-shadow: 0 0 40px ").concat(t[e],", 0 0 60px ").concat(t[e],"; }\n          }\n        </style>\n      "),iconSize:[28,28],iconAnchor:[14,14]})})(e.type),children:(0,t.jsx)(i.Popup,{children:(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsxs)("p",{className:"font-bold text-red-600",children:["⚡ ",e.name]}),(0,t.jsxs)("p",{className:"text-slate-600 text-xs mt-1",children:["AI Agent: ",e.type.toUpperCase()]})]})})}),(0,t.jsx)(r.Circle,{center:[e.lat,e.lng],radius:5e4,pathOptions:{color:"phishing"===e.type?"#dc2626":"gps"===e.type?"#ea580c":"#ca8a04",fillColor:"phishing"===e.type?"#dc2626":"gps"===e.type?"#ea580c":"#ca8a04",fillOpacity:.1,weight:2,dashArray:"5, 5"}})]},e.id)),d.map(e=>{var n;let s,l=(s=e.id,c.some(e=>e.id===s));return(0,t.jsx)(a.Marker,{position:[e.location.lat,e.location.lng],icon:o.default.divIcon({className:"custom-attack-marker",html:'\n      <div style="position: relative;">\n        '.concat(l?'\n          <div style="\n            position: absolute;\n            width: 32px;\n            height: 32px;\n            border-radius: 50%;\n            background-color: '.concat(l?"rgba(239, 68, 68, 0.4)":"rgba(59, 130, 246, 0.4)",';\n            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n          "></div>\n        '):"",'\n        <div style="\n          background-color: ').concat(l?"#ef4444":"#3b82f6",';\n          width: 20px;\n          height: 20px;\n          border-radius: 50%;\n          border: 3px solid white;\n          box-shadow: 0 2px 6px rgba(0,0,0,0.4);\n          position: relative;\n          z-index: 10;\n        ">\n          ').concat(l?'\n            <div style="\n              position: absolute;\n              top: 50%;\n              left: 50%;\n              transform: translate(-50%, -50%);\n              color: white;\n              font-size: 10px;\n              font-weight: bold;\n            ">⚠</div>\n          ':"","\n        </div>\n      </div>\n      <style>\n        @keyframes pulse {\n          0%, 100% {\n            opacity: 1;\n            transform: translate(-50%, -50%) scale(1);\n          }\n          50% {\n            opacity: 0;\n            transform: translate(-50%, -50%) scale(1.5);\n          }\n        }\n      </style>\n    "),iconSize:[32,32],iconAnchor:[16,16]}),children:(0,t.jsx)(i.Popup,{children:(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsxs)("p",{className:"font-bold ".concat(l?"text-red-600":"text-slate-800"),children:[l?"⚠️ ":"",e.name]}),(0,t.jsx)("p",{className:"text-slate-600",children:e.id}),(0,t.jsx)("p",{className:"text-slate-600",children:e.zone}),l&&(0,t.jsxs)("div",{className:"mt-2 p-2 bg-red-50 rounded",children:[(0,t.jsx)("p",{className:"text-red-700 font-semibold text-xs",children:"COMPROMISED"}),(0,t.jsx)("p",{className:"text-red-600 text-xs",children:null==(n=c.find(t=>t.id===e.id))?void 0:n.compromiseType})]}),!l&&(0,t.jsx)("p",{className:"mt-2",children:(0,t.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-700",children:e.status})})]})})},e.id)}),c.map((e,n)=>{let s=d.find(t=>t.id===e.id);if(!s)return null;let a=p[n%p.length];return(0,t.jsx)(l.Polyline,{positions:[[a.lat,a.lng],[s.location.lat,s.location.lng]],pathOptions:{color:"#ef4444",weight:2,opacity:.6,dashArray:"10, 10"}},"attack-line-".concat(e.id))})]}),(0,t.jsxs)("div",{className:"absolute bottom-4 left-4 bg-white dark:bg-slate-800 rounded-lg shadow-lg p-4 border-2 border-red-300 dark:border-red-700 z-[1000]",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-red-600 dark:text-red-400 mb-2",children:"⚠️ Attack Visualization"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-red-500 border-2 border-white"}),(0,t.jsx)("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Compromised"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-blue-500 border-2 border-white"}),(0,t.jsx)("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Normal"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-red-600 border-2 border-white"}),(0,t.jsx)("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Attack Origin"})]})]}),(0,t.jsx)("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-700",children:(0,t.jsxs)("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:[(0,t.jsx)("span",{className:"font-semibold",children:c.length})," units compromised"]})})]})]})}},87799,e=>{e.n(e.i(68294))}]);